<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subir Archivo - Blog Express</title>
    <link rel="stylesheet" href="static/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üì§</text></svg>">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-brand">
                <h1>üöÄ Blog Express</h1>
                <span class="nav-subtitle">Sistema de Gesti√≥n Din√°mica</span>
            </div>
            <div class="nav-links">
                <a href="index.html" class="nav-link">üìù Blog</a>
                <a href="subir.html" class="nav-link active">üì§ Subir</a>
                <a href="historial.html" class="nav-link">üìä Historial</a>
                <a href="info.html" class="nav-link">‚ÑπÔ∏è Info</a>
            </div>
        </nav>
    </header>

    <main class="container">
        <section class="upload-section">
            <div class="section-header">
                <h2>üì§ Subir Archivo de Contenido</h2>
                <p>Carga archivos CSV o Excel para generar contenido din√°mico en el blog</p>
            </div>

            <div class="upload-container">
                <div class="upload-form-container">
                    <form id="form-subir" class="upload-form" onsubmit="subirArchivo(event)">
                        <div class="form-group">
                            <label for="archivo">üìÅ Seleccionar Archivo:</label>
                            <input type="file" id="archivo" name="archivo" accept=".csv,.xlsx,.xls" required>
                            <small class="form-help">Formatos aceptados: CSV, Excel (.xlsx, .xls)</small>
                        </div>

                        <div class="form-group">
                            <label for="usuario">üë§ Nombre de Usuario (opcional):</label>
                            <input type="text" id="usuario" name="usuario" placeholder="Tu nombre para el registro">
                            <small class="form-help">Este nombre aparecer√° en el historial de actualizaciones</small>
                        </div>

                        <button type="submit" class="btn-submit">
                            üì§ Subir Archivo
                        </button>
                    </form>

                    <div id="estado-subida" class="upload-status">
                        <!-- Estado de la subida se muestra aqu√≠ -->
                    </div>
                </div>

                <div class="upload-info">
                    <h3>üìã Formato Requerido del Archivo</h3>
                    
                    <div class="format-requirements">
                        <div class="requirement-section">
                            <h4>üìä Columnas Obligatorias:</h4>
                            <ul>
                                <li><strong>D√≠a</strong> - N√∫mero del d√≠a (1-31)</li>
                                <li><strong>Mes</strong> - Nombre del mes (Enero, Febrero, etc.)</li>
                                <li><strong>A√±o</strong> - N√∫mero del a√±o (2024, 2025, etc.)</li>
                                <li><strong>N¬∞ Publicaci√≥n</strong> - N√∫mero de publicaci√≥n</li>
                                <li><strong>Tipo</strong> - Tipo de contenido (T, ST, P, I)</li>
                                <li><strong>Contenido / URL</strong> - Texto o URL seg√∫n el tipo</li>
                            </ul>
                        </div>

                        <div class="requirement-section">
                            <h4>üéØ Tipos de Contenido:</h4>
                            <ul>
                                <li><strong>T</strong> - T√≠tulo principal (se convierte en &lt;h1&gt;)</li>
                                <li><strong>ST</strong> - Subt√≠tulo (se convierte en &lt;h3&gt;)</li>
                                <li><strong>P</strong> - P√°rrafo (se convierte en &lt;p&gt;)</li>
                                <li><strong>I</strong> - Imagen (debe ser URL v√°lida, se convierte en &lt;img&gt;)</li>
                            </ul>
                        </div>

                        <div class="requirement-section">
                            <h4>üé® Columna Opcional:</h4>
                            <ul>
                                <li><strong>Estilo</strong> - CSS inline para personalizar el elemento</li>
                            </ul>
                        </div>
                    </div>

                    <div class="example-section">
                        <h4>üìù Ejemplo de Archivo CSV:</h4>
                        <pre class="code-example">
D√≠a,Mes,A√±o,N¬∞ Publicaci√≥n,Tipo,Contenido / URL,Estilo
21,Octubre,2024,1,T,"Bienvenidos a Nuestro Blog","color:#2c3e50; text-align:center"
21,Octubre,2024,1,ST,"Explorando Nuevos Horizontes","color:#3498db; margin-top:1rem"
21,Octubre,2024,1,P,"Este es un p√°rrafo de ejemplo que muestra c√≥mo se genera contenido din√°mico desde archivos CSV.","color:#555; line-height:1.6"
21,Octubre,2024,1,I,"https://ejemplo.com/imagen.jpg","max-width:100%; border-radius:8px"</pre>
                    </div>

                    <div class="tips-section">
                        <h4>üí° Consejos:</h4>
                        <ul>
                            <li>Las im√°genes (Tipo I) deben ser URLs v√°lidas que comiencen con http:// o https://</li>
                            <li>Puedes usar la columna "Estilo" para aplicar CSS personalizado a cada elemento</li>
                            <li>Los archivos se procesan en orden y se agrupan por n√∫mero de publicaci√≥n</li>
                            <li>El sistema valida autom√°ticamente el formato antes de procesar</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>üöÄ <strong>Blog Express</strong> - Sistema de Gesti√≥n de Contenido Din√°mico</p>
            <p>Desarrollado con Azure Functions + MySQL + Static Web Apps</p>
            <p class="footer-version">v2.0 - Pr√°ctica de Implementaci√≥n</p>
        </div>
    </footer>

    <script src="static/js/app.js"></script>
</body>
</html>